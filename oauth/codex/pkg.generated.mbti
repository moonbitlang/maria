// Generated using `moon info`, DON'T EDIT IT
package "moonbitlang/maria/oauth/codex"

import(
  "moonbitlang/core/json"
)

// Values
pub let base_instructions : String

pub fn build_authorize_url(PkceCodes, String, redirect_uri? : String) -> String

pub async fn credentials_exist() -> Bool

pub async fn delete_credentials() -> Unit

pub async fn exchange_code_for_tokens(String, PkceCodes, redirect_uri? : String) -> TokenResponse

pub fn extract_token_claims(String) -> IdTokenClaims raise

pub fn generate_pkce() -> PkceCodes

pub fn generate_state() -> String

pub async fn load_credentials() -> Credentials

pub fn parse_query_string(StringView) -> Map[String, String]

pub async fn refresh_and_save_credentials() -> Credentials

pub async fn save_credentials(Credentials) -> Unit

pub async fn start_oauth_flow() -> Credentials

// Errors

// Types and methods
pub(all) struct Credentials {
  idToken : String
  accessToken : String
  refreshToken : String
  accountId : String
}
pub impl Show for Credentials
pub impl ToJson for Credentials
pub impl @json.FromJson for Credentials

pub struct IdTokenClaims {
  email : String
  chatgptAccountId : String
  chatgptPlanType : String
}
pub impl Show for IdTokenClaims

pub struct PkceCodes {
  code_verifier : String
  code_challenge : String
}
pub fn PkceCodes::new(code_verifier~ : String, code_challenge~ : String) -> Self
pub impl Show for PkceCodes

type RefreshResponse
pub impl Show for RefreshResponse

pub struct TokenResponse {
  id_token : String
  access_token : String
  refresh_token : String
}
pub impl Show for TokenResponse

// Type aliases

// Traits

