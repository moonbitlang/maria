// Generated using `moon info`, DON'T EDIT IT
package "moonbitlang/maria/openai"

import(
  "moonbitlang/core/json"
)

// Values
fn[T : ToChatCompletionMessageParamContent] assistant_message(content? : T, tool_calls? : Array[ChatCompletionMessageToolCall], name? : String) -> ChatCompletionMessageParam

fn chat_completion(model~ : String, messages~ : Array[ChatCompletionMessageParam], tools? : Array[ChatCompletionToolParam], usage? : CompletionUsageParam, user? : String, max_tokens? : Int, temperature? : Double, response_format? : ResponseFormat) -> ChatCompletionParam

fn[T : ToChatCompletionMessageParamContent] system_message(content~ : T, name? : String) -> ChatCompletionMessageParam

fn text_content_part(String, cache_control? : CacheControl) -> ChatCompletionContentPartParam

fn tool(name~ : String, description~ : String, parameters~ : Map[String, Json], strict? : Bool) -> ChatCompletionToolParam

fn[T : ToChatCompletionMessageParamContent] tool_message(content~ : T, tool_call_id~ : String) -> ChatCompletionMessageParam

fn usage(include_~ : Bool) -> CompletionUsageParam

fn[T : ToChatCompletionMessageParamContent] user_message(content~ : T, name? : String) -> ChatCompletionMessageParam

// Errors

// Types and methods
pub(all) enum CacheControl {
  Ephemeral
}
impl ToJson for CacheControl

pub struct ChatCompletion {
  id : String
  choices : Array[ChatCompletionChoice]
  created : Int
  model : String
  usage : CompletionUsage?
  system_fingerprint : String?
  service_tier : ChatCompletionServiceTier?
}
impl Show for ChatCompletion
impl @json.FromJson for ChatCompletion

pub struct ChatCompletionAssistantMessageParam {
  content : Array[ChatCompletionContentPartParam]
  name : String?
  tool_calls : Array[ChatCompletionMessageToolCall]
  function_call : ChatCompletionMessageFunctionCall?
}

pub struct ChatCompletionChoice {
  finish_reason : ChatCompletionChoiceFinishReason
  index : Int
  message : ChatCompletionMessage
  logprobs : ChatCompletionChoiceLogprobs?
}
impl Show for ChatCompletionChoice

pub enum ChatCompletionChoiceFinishReason {
  Stop
  Length
  ToolCalls
  ContentFilter
  FunctionCall
}
impl Show for ChatCompletionChoiceFinishReason

pub struct ChatCompletionChoiceLogprobs {
  content : Array[ChatCompletionTokenLogprob]?
  refusal : Array[ChatCompletionTokenLogprob]?
}
impl Show for ChatCompletionChoiceLogprobs

pub struct ChatCompletionChunk {
  id : String
  choices : Array[ChatCompletionChunkChoice]
  created : Int
  model : String
  usage : CompletionUsage?
  system_fingerprint : String?
  service_tier : ChatCompletionServiceTier?
}
impl @json.FromJson for ChatCompletionChunk

pub struct ChatCompletionChunkChoice {
  index : Int
  delta : ChatCompletionChunkChoiceDelta
  finish_reason : ChatCompletionChoiceFinishReason?
}

pub struct ChatCompletionChunkChoiceDelta {
  content : String?
  role : ChatCompletionRole?
  tool_calls : Array[ChatCompletionChunkChoiceDeltaToolCall]?
}

pub struct ChatCompletionChunkChoiceDeltaToolCall {
  index : Int
  id : String?
  function : ChatCompletionChunkChoiceDeltaToolCallFunction
}

pub struct ChatCompletionChunkChoiceDeltaToolCallFunction {
  arguments : String?
  name : String?
}

pub enum ChatCompletionContentPartParam {
  Text(ChatCompletionContentPartTextParam)
}
impl ToJson for ChatCompletionContentPartParam

pub struct ChatCompletionContentPartTextParam {
  text : String
  cache_control : CacheControl?
}

pub struct ChatCompletionMessage {
  content : String?
  refusal : String?
  role : ChatCompletionMessageRole
  tool_calls : Array[ChatCompletionMessageToolCall]
  function_call : ChatCompletionMessageFunctionCall?
}
fn ChatCompletionMessage::to_param(Self) -> ChatCompletionMessageParam
impl Show for ChatCompletionMessage

pub struct ChatCompletionMessageFunctionCall {
  arguments : String
  name : String
}
impl Show for ChatCompletionMessageFunctionCall

pub enum ChatCompletionMessageParam {
  System(ChatCompletionSystemMessageParam)
  User(ChatCompletionUserMessageParam)
  Assistant(ChatCompletionAssistantMessageParam)
  Tool(ChatCompletionToolMessageParam)
}
impl ToJson for ChatCompletionMessageParam
impl @json.FromJson for ChatCompletionMessageParam

pub enum ChatCompletionMessageRole {
  Assistant
}
impl Show for ChatCompletionMessageRole

pub struct ChatCompletionMessageToolCall {
  id : String
  function : Function
}
impl Show for ChatCompletionMessageToolCall

pub struct ChatCompletionParam {
  model : String
  messages : Array[ChatCompletionMessageParam]
  tools : Array[ChatCompletionToolParam]
  usage : CompletionUsageParam?
  user : String?
  max_tokens : Int?
  temperature : Double?
  response_format : ResponseFormat?
}
impl ToJson for ChatCompletionParam

pub enum ChatCompletionRole {
  Developer
  System
  User
  Assistant
  Tool
}

pub enum ChatCompletionServiceTier {
  Auto
  Default
  Flex
  Scale
  Priority
}
impl Show for ChatCompletionServiceTier

pub struct ChatCompletionSystemMessageParam {
  content : Array[ChatCompletionContentPartParam]
  name : String?
}

pub struct ChatCompletionTokenLogprob {
  token : String
  logprob : Double
  bytes : Array[Int]?
  top_logprobs : Array[ChatCompletionTopLogprob]
}
impl Show for ChatCompletionTokenLogprob

pub struct ChatCompletionToolMessageParam {
  content : Array[ChatCompletionContentPartParam]
  tool_call_id : String
}

pub enum ChatCompletionToolParam {
  Function(FunctionDefinition)
}
impl ToJson for ChatCompletionToolParam

pub struct ChatCompletionTopLogprob {
  token : String
  logprob : Double
  bytes : Array[Int]?
}
impl Show for ChatCompletionTopLogprob

pub struct ChatCompletionUserMessageParam {
  content : Array[ChatCompletionContentPartParam]
  name : String?
}

pub struct CompletionTokensDetails {
  reasoning_tokens : Int?
}
impl Show for CompletionTokensDetails
impl ToJson for CompletionTokensDetails

pub struct CompletionUsage {
  completion_tokens : Int
  completion_tokens_details : CompletionTokensDetails?
  cost : Double?
  cost_details : CostDetails?
  prompt_tokens : Int
  prompt_tokens_details : PromptTokensDetails?
  total_tokens : Int
}
impl Show for CompletionUsage
impl ToJson for CompletionUsage
impl @json.FromJson for CompletionUsage

pub struct CompletionUsageParam {
  include_ : Bool
}

pub struct CostDetails {
  upstream_inference_cost : Double?
}
impl Show for CostDetails
impl ToJson for CostDetails

pub struct Function {
  arguments : String
  name : String
}
impl Show for Function

pub struct FunctionDefinition {
  name : String
  description : String
  parameters : Map[String, Json]
  strict : Bool?
}

pub struct PromptTokensDetails {
  cached_tokens : Int?
  audio_tokens : Int?
}
impl Show for PromptTokensDetails
impl ToJson for PromptTokensDetails

pub(all) enum ResponseFormat {
  Text
  JsonSchema
  JsonObject
}
impl ToJson for ResponseFormat

// Type aliases

// Traits
trait ToChatCompletionMessageParamContent
impl ToChatCompletionMessageParamContent for String
impl ToChatCompletionMessageParamContent for Array[ChatCompletionContentPartParam]

